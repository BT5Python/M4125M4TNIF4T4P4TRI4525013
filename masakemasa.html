<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Slide Komandan Puslat</title>
<style>
  body {
    background: black;
    color: #00ff00;
    font-family: "Courier New", monospace;
    margin: 0;
    height: 100vh;
    overflow: hidden;
  }

  /* Judul dan garis */
  #title-container {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 3;
    width: 100%;
  }
  #title {
    font-size: 24px;
    font-weight: bold;
    margin: 0;
    white-space: nowrap;
  }
  #title-underline {
    position: fixed;
    top: 310px;
    left: 0;
    width: 100%;
    height: 2px;
    background: #00ff00;
    z-index: 3;
  }

  /* Container foto kecil di atas garis */
  /* Container foto kecil di atas garis */
  #top-photos {
    position: fixed;
    top: 90px;
    left: 50%;
    transform: translateX(-50%); /* supaya mulai dari tengah */
    display: flex;
    flex-direction: row;
    gap: 10px;
    z-index: 3;
  }

  #top-photos img {
    width: 110px;        
    height: auto;
    border: 2px solid #00ff00;
  }

  /* Foto utama */
  #photo {
    position: fixed;
    top: 330px;
    left: 200px;
    width: 200px;
    height: auto;
    z-index: 1;
  }

  /* Biodata statis */
  #bio {
    position: fixed;
    top: 330px;
    left: 420px;
    font-size: 15px;
    line-height: 1.6;
    white-space: pre;
    max-width: 500px;
    z-index: 2;
  }

  .top-item {
  text-align: center;
  color: #00ff00;
  font-size: 12px;
  font-family: "Courier New", monospace;
}
.top-item img {
  width: 100px;
  border: 2px solid #00ff00;
}

</style>
</head>
<body>

<div id="title-container">
  <div id="title">KOMANDAN PUSLAT KODIKLATAU DARI MASA KE MASA</div>
</div>
<div id="title-underline"></div>
<div id="top-photos"></div>

<img id="photo">
<div id="bio"></div>

<script>
const slides = [
  { periode: "Danpuslat Kodiklatau Th. 2020 - Th. 2021", nama: "Fata Patria", pangkat: "Marsekal Pertama TNI", angkatan: "Akabri 1998", foto: "danpus pdh.jpg" },
  { periode: "Danpuslat Kodiklatau Th. 2021 - Th. 2022", nama: "Andi Darmawan", pangkat: "Marsekal Pertama TNI", angkatan: "Akabri 1999", foto: "kabid kl.jpg" },
  { periode: "Danpuslat Kodiklatau Th. 2022 - Th. 2023", nama: "Rizal Pratama", pangkat: "Marsekal Pertama TNI", angkatan: "Akabri 2000", foto: "danpus pdh.jpg" },
  { periode: "Danpuslat Kodiklatau Th. 2023 - Th. 2024", nama: "Dwi Wicaksono", pangkat: "Marsekal Pertama TNI", angkatan: "Akabri 2001", foto: "kabid kl.jpg" },
  { periode: "Danpuslat Kodiklatau Th. 2024 - Sekarang", nama: "Joko Prasetyo", pangkat: "Marsekal Pertama TNI", angkatan: "Akabri 2002", foto: "danpus pdh.jpg" }
];

function typingEffect(element, text, speed = 35) {
  element.innerHTML = "";
  let lines = text.split("\n"); 
  let lineIndex = 0;
  let charIndex = 0;
  function type() {
    if(lineIndex >= lines.length) return;
    if(charIndex < lines[lineIndex].length) {
      element.innerHTML += lines[lineIndex].charAt(charIndex);
      charIndex++;
      setTimeout(type, speed);
    } else {
      element.innerHTML += "\n";
      lineIndex++;
      charIndex = 0;
      setTimeout(type, speed);
    }
  }
  type();
}

let index = 0;
function showSlide(i) {
  const photo = document.getElementById("photo");
  const bio = document.getElementById("bio");
  const topPhotos = document.getElementById("top-photos");
  const s = slides[i];

  photo.src = s.foto;

  const biodata = 
`▶ ${s.periode}

Nama     : ${s.nama}
Pangkat  : ${s.pangkat}
Angkatan : ${s.angkatan}`;

  typingEffect(bio, biodata, 35);

  // Tambahkan foto kecil
  setTimeout(() => {
    const item = document.createElement("div");
    item.className = "top-item";

    const smallPhoto = document.createElement("img");
    smallPhoto.src = s.foto;

    const caption = document.createElement("div");
    caption.innerHTML = `
      ${s.nama}<br>
      ${s.periode.replace("Danpuslat Kodiklatau Th. ", "").replace("Th. ", "").replace(" - ", "–")}
      `;

    item.appendChild(smallPhoto);
    item.appendChild(caption);

    topPhotos.appendChild(item);


// tetap center setiap kali bertambah foto
const totalWidth = topPhotos.scrollWidth;
topPhotos.style.transform = `translateX(-${totalWidth / 2}px)`;

  }, 3000);

  // ❗ STOP SETELAH FOTO KE-5 (TIDAK LOOPING)
  if (i === slides.length - 1) return;

  // Slide berikutnya
  setTimeout(() => {
    index++;
    showSlide(index);
  }, 9000);
}

showSlide(index);
</script>

</body>
</html>
